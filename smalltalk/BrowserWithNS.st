<?xml version="1.0"?>

<st-source>
<time-stamp>From VisualWorksÂ® NonCommercial, 7.2 of November 3, 2003 on February 13, 2006 at 10:54:59 am</time-stamp>


<class>
<name>CS474Example</name>
<environment>Smalltalk</environment>
<super>UI.ApplicationModel</super>
<private>false</private>
<indexed-type>none</indexed-type>
<inst-vars>currentClass subclassList instanceVariableList superName methodList nameSpaceName </inst-vars>
<class-inst-vars></class-inst-vars>
<imports></imports>
<category>UIApplications-New</category>
<attributes>
<package>CS474</package>
</attributes>
</class>

<!-- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -   -->


<methods>
<class-id>CS474Example class</class-id> <category>interface specs</category>

<body package="CS474">windowSpec
	"Tools.UIPainter new openOnClass: self andSelector: #windowSpec"

	&lt;resource: #canvas&gt;
	^#(#{UI.FullSpec} 
		#window: 
		#(#{UI.WindowSpec} 
			#label: 'Ugo''s Little Class Browser' 
			#min: #(#{Core.Point} 20 20 ) 
			#max: #(#{Core.Point} 1152 864 ) 
			#bounds: #(#{Graphics.Rectangle} 218 364 868 634 ) ) 
		#component: 
		#(#{UI.SpecCollection} 
			#collection: #(
				#(#{UI.InputFieldSpec} 
					#layout: #(#{Graphics.Rectangle} 14 31 167 54 ) 
					#name: #InputField1 
					#model: #currentClass ) 
				#(#{UI.SequenceViewSpec} 
					#layout: #(#{Graphics.Rectangle} 15 72 205 227 ) 
					#name: #List1 
					#flags: 15 
					#model: #subclassList 
					#useModifierKeys: true 
					#selectionType: #highlight ) 
				#(#{UI.LabelSpec} 
					#layout: #(#{Core.Point} 45 9 ) 
					#name: #Label1 
					#label: 'Current class name' ) 
				#(#{UI.LabelSpec} 
					#layout: #(#{Core.Point} 242 9 ) 
					#name: #Label2 
					#label: 'Superclass name' ) 
				#(#{UI.LabelSpec} 
					#layout: #(#{Core.Point} 80 235 ) 
					#name: #Label3 
					#label: 'Subclasses' ) 
				#(#{UI.LabelSpec} 
					#layout: #(#{Core.Point} 263 236 ) 
					#name: #Label4 
					#label: 'Instance variable names' ) 
				#(#{UI.SequenceViewSpec} 
					#layout: #(#{Graphics.Rectangle} 228 72 418 227 ) 
					#name: #List2 
					#flags: 15 
					#model: #instanceVariableList 
					#useModifierKeys: true 
					#selectionType: #highlight ) 
				#(#{UI.TextEditorSpec} 
					#layout: #(#{Graphics.Rectangle} 187 31 370 54 ) 
					#name: #TextEditor1 
					#flags: 12 
					#model: #superName 
					#isReadOnly: true 
					#tabRequiresControl: true ) 
				#(#{UI.SequenceViewSpec} 
					#layout: #(#{Graphics.Rectangle} 439 72 629 227 ) 
					#name: #List3 
					#flags: 15 
					#model: #methodList 
					#useModifierKeys: true 
					#selectionType: #highlight ) 
				#(#{UI.ActionButtonSpec} 
					#layout: #(#{Graphics.Rectangle} 395 31 476 54 ) 
					#name: #ActionButton1 
					#model: #followSuperclass 
					#label: 'Follow super' 
					#style: #pixelLarge 
					#defaultable: true ) 
				#(#{UI.LabelSpec} 
					#layout: #(#{Core.Point} 491 231 ) 
					#name: #Label5 
					#label: 'Instance method names' ) 
				#(#{UI.InputFieldSpec} 
					#layout: #(#{Graphics.Rectangle} 498 31 623 53 ) 
					#name: #InputField2 
					#model: #nameSpaceName ) 
				#(#{UI.LabelSpec} 
					#layout: #(#{Core.Point} 526 9 ) 
					#name: #Label6 
					#label: 'Namespace' ) ) ) )</body>
</methods>

<!-- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -   -->


<methods>
<class-id>CS474Example</class-id> <category>aspects</category>

<body package="CS474">currentClass
	"This method was generated by UIDefiner.  Any edits made here
	may be lost whenever methods are automatically defined.  The
	initialization provided below may have been preempted by an
	initialize method."

	^currentClass isNil
		ifTrue:
			[currentClass := 'Object' asValue.]
		ifFalse:
			[currentClass]</body>

<body package="CS474">initialize
	"comment stating purpose of message"

	super initialize.
 	self currentClass onChangeSend: #updateList to: self.
      self subclassList selectionIndexHolder onChangeSend: #newSelection to: self.
      self updateList.
      ^self.</body>

<body package="CS474">instanceVariableList
	"This method was generated by UIDefiner.  Any edits made here
	may be lost whenever methods are automatically defined.  The
	initialization provided below may have been preempted by an
	initialize method."

	^instanceVariableList isNil
		ifTrue:
			[instanceVariableList := SelectionInList new]
		ifFalse:
			[instanceVariableList]</body>

<body package="CS474">methodList
	"This method was generated by UIDefiner.  Any edits made here
	may be lost whenever methods are automatically defined.  The
	initialization provided below may have been preempted by an
	initialize method."

	^methodList isNil
		ifTrue:
			[methodList := SelectionInList new]
		ifFalse:
			[methodList]</body>

<body package="CS474">nameSpaceName
	"This method was generated by UIDefiner.  Any edits made here
	may be lost whenever methods are automatically defined.  The
	initialization provided below may have been preempted by an
	initialize method."

	^nameSpaceName isNil
		ifTrue:
			[nameSpaceName := String new asValue]
		ifFalse:
			[nameSpaceName]</body>

<body package="CS474">subclassList
	"This method was generated by UIDefiner.  Any edits made here
	may be lost whenever methods are automatically defined.  The
	initialization provided below may have been preempted by an
	initialize method."

	^subclassList isNil
		ifTrue:
			[subclassList := SelectionInList new]
		ifFalse:
			[subclassList]</body>

<body package="CS474">superName
	"This method was generated by UIDefiner.  Any edits made here
	may be lost whenever methods are automatically defined.  The
	initialization provided below may have been preempted by an
	initialize method."

	^superName isNil
		ifTrue:
			[superName := String new asValue]
		ifFalse:
			[superName]</body>
</methods>

<methods>
<class-id>CS474Example</class-id> <category>actions</category>

<body package="CS474">followSuperclass

	"This stub method was generated by UIDefiner"

	| cname |
      cname := self superName value.
	(currentClass value = 'Object')
					ifTrue: [superName value: 'No superclass, twit!']
					ifFalse: [currentClass value: cname.].
	^self.</body>
</methods>

<methods>
<class-id>CS474Example</class-id> <category>private</category>

<body package="CS474">findClassObject: aSymbol
	"Search all name spaces until one is found that defines or imports class matching aSymbol argument.  If found, return class object, nil otherwise."

	Root withAllNameSpacesDo: 
              [:nameSpace | |result|
			result := nameSpace at: aSymbol ifAbsent: nil.
                  (result isBehavior) ifTrue: [^result.]    ].
      ^nil.</body>

<body package="CS474">newSelection
	"comment stating purpose of message"

	| cname |
	cname := subclassList selection.
      cname isNil ifTrue: [^self] .
      currentClass value: cname.
	^self</body>

<body package="CS474">updateList
	"comment stating purpose of message"

	| cname cobject superCls |
	cname := currentClass value.
	"cname isBehavior ifTrue: [cname := cname name]."
	cobject := self findClassObject: cname.
	cobject isNil 
		ifTrue: [superName value: 'Illegal class name']
		ifFalse: 
			[superCls := cobject superclass.
                   self subclassList
					list:  (cobject subclasses collect: [ :x | x name]) asSortedCollection.
			self instanceVariableList list: cobject allInstVarNames.
			self methodList list: cobject selectors asSortedCollection.
			self superName value: (superCls isNil ifFalse: [superCls name] ifTrue:['nil']).
			self nameSpaceName value: cobject environment name.].
	^self</body>
</methods>

</st-source>
